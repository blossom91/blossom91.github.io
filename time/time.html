<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>time demo</title>
    </head>
    <body>
        <h1></h1>
        <h2></h2>
    <script>
    var e = function(selector) {
    return document.querySelector(selector)
    }

    var time = function( z ) {
        if (z === undefined) { z = new Date() }
        var han = '日一二三四五六'
        var Year   = z.getFullYear()
        var Month  = z.getMonth() + 1
        var Day    = z.getDate()
        var Hour   = z.getHours()
        var Minute = z.getMinutes()
        var Second = z.getSeconds()
        var Week   = han[z.getDay()]
        if ( String(Month).length === 1) {
            Month = '0' + Month
        }
        e('h1').innerText = `${Year}年${Month}月${Day}日 ${Hour}时${Minute}分${Second}秒 星期${Week}`
        setTimeout(time,500)
    }
    time()
    var timedjs = function() {
        var time1 = new Date()
        var time2 = new Date('2017/6/10,22:29:30')
        var djs = parseInt((time2.getTime() - time1.getTime())/1000)
        var d = parseInt(djs/(24*60*60))
        var h = parseInt((djs/3600)%24)
        var m = parseInt((djs/60)%60)
        var s = parseInt(djs%60)
        e('h2').innerText = `${d}天${h}小时${m}分${s}秒`
        if (djs <= 0) {
             e('h2').innerText = '倒计时结束'
             return
        }
        setTimeout(timedjs,500)
    }
    timedjs()

    </script>
    </body>
</html>
